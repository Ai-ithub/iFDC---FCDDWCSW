
# مستندسازی اسکریپت مدیریت و برآورد مقادیر گمشده

این اسکریپت با هدف مدیریت مقادیر گمشده در داده‌های مربوط به آسیب سازند طراحی شده است. این فرآیند شامل حذف ترکیب‌های نامعتبر، تحلیل و برآورد مقادیر گمشده با روش‌های مناسب برای ستون‌های عددی و دسته‌بندی می‌باشد.

---

## 📁 فایل‌ها

- **ورودی**: `formation_damage_valid_data.parquet`  
  - داده‌هایی که قبلاً از نظر ترکیب‌های نامعتبر پاک‌سازی شده‌اند.

- **خروجی**: `formation_damage_imputed.parquet`  
  - داده‌هایی که مقادیر گمشده آن‌ها به‌صورت خودکار برآورد شده‌اند.

---

## ⚙️ مراحل پردازش

### 1. حذف ترکیب‌های نامعتبر (تکرار گام قبلی)

- بررسی ترکیب‌های غیرمجاز در سه ستون `Formation`، `Fluid_Type` و `Completion_Type`.
- با توجه به درصد ترکیب‌های نامعتبر، حذف یا نادیده گرفتن آن‌ها:
  - در این اجرا، درصد ترکیب‌های مشکوک **3.01٪** بوده که در محدوده 1 تا 5 درصد قرار می‌گیرد. بنابراین ردیف‌های نامعتبر حذف شدند.

---

### 2. تحلیل مقادیر گمشده

- محاسبه تعداد و درصد مقادیر گمشده برای هر ستون.
- تهیه گزارش خلاصه‌ای از ستون‌هایی که دارای داده‌ی ناقص هستند.

---

### 3. مدیریت مقادیر گمشده

#### الف) ستون‌های عددی

- شناسایی ستون‌های عددی دارای مقادیر گمشده.
- استفاده از **KNN Imputer** با ۵ همسایه برای برآورد این مقادیر.
- در صورت وجود داده‌ی کافی، ارزیابی دقت KNN با استفاده از MAE انجام می‌شود.

#### ب) ستون‌های دسته‌بندی (Category / Object)

- شناسایی ستون‌های دسته‌بندی دارای مقادیر گمشده.
- استفاده از **رگرسیون لجستیک** (Logistic Regression) برای پیش‌بینی مقدار مناسب.
- اگر آموزش مدل امکان‌پذیر نباشد، مقدار پرتکرار (mode) جایگزین می‌شود.

---

### 4. ذخیره‌سازی نهایی

- داده‌های کامل‌شده (بدون مقادیر گمشده) در فایل `formation_damage_imputed.parquet` ذخیره می‌شوند.

---

## ✅ نکات کلیدی

- استفاده از الگوریتم‌های پیشرفته برای پر کردن داده‌ها بدون مداخله‌ی دستی.
- حفظ بیشینه‌ی اطلاعات موجود با برآورد دقیق.
- مستندسازی دقت الگوریتم‌ها برای تصمیم‌گیری آگاهانه‌تر.
